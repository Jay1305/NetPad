<template class="theme-${settings.theme.toLowerCase()}">
    <require from="./script-environment-view/script-environment-view"></require>
    <require from="./sidebar/sidebar"></require>
    <require from="./statusbar/statusbar"></require>

    <div class="window d-flex flex-column">
        <div id="content" class="flex-grow-1 d-flex flex-row">
            <sidebar id="sidebar"></sidebar>
            <div id="scripts-content" class="flex-grow-height-restricted d-flex flex-column">
                <ul id="tabs" class="nav nav-tabs">
                    <li class="nav-item script-tab ${session.active === env ? 'active' : ''}"
                        repeat.for="env of session.environments">
                        <div class="tab">
                            <div class="text"
                                 click.trigger="session.activate(env.script.id)"
                                 auxclick.trigger="session.close(env.script.id)">
                                ${env.script.name}
                                ${env.status === 'Running' ? '[Running]' : ''}
                                ${env.script.isDirty ? '*' : ''}
                            </div>
                            <i class="bi bi-x action-danger"
                               title="${shortcutManager.getShortcutByName('Close').toString()}"
                               click.trigger="session.close(env.script.id)"></i>
                        </div>
                    </li>
                    <li class="nav-item script-tab new-script-tab"
                        click.trigger="scriptService.create()"
                        title="${shortcutManager.getShortcutByName('New').toString()}">
                        <div class="tab">
                            <i class="bi bi-plus-lg"></i>
                        </div>
                    </li>
                </ul>
                <div id="script-environments" class="flex-grow-height-restricted d-flex flex-column">
                    <script-environment-view class="flex-grow-height-restricted d-flex flex-column"
                                             repeat.for="env of session.environments"
                                             show.bind="session.active === env"
                                             environment.bind="env"></script-environment-view>
                </div>
            </div>
        </div>
        <statusbar></statusbar>
    </div>
</template>
