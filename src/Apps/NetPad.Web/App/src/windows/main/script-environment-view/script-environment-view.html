<template data-id.bind="id">
    <div class="header ps-2 pe-2 mb-3">
        <button class="btn btn-sm btn-success"
                title="${shortcutManager.getShortcutByName('Run').toString()}"
                click.trigger="run()">
            <i class="bi bi-play-fill"></i>
        </button>
        <button class="btn btn-sm btn-secondary"
                title="${shortcutManager.getShortcutByName('Save').toString()}"
                click.trigger="scriptService.save(script.id)">
            <i class="bi bi-hdd-fill"></i>
        </button>
        <button class="btn btn-sm btn-secondary"
                title="${shortcutManager.getShortcutByName('Script Properties').toString()}"
                click.trigger="scriptService.openConfig(script.id)">
            <i class="bi bi-gear-fill"></i>
        </button>
        <button class="btn btn-sm btn-secondary"
                title="Toggle Theme"
                click.trigger="settings.theme = (settings.theme === 'Light' ? 'Dark' : 'Light')">
            <i class="bi bi-sun-fill"></i>
        </button>
        <span class="ms-3">
            <b>Kind:</b>
            <select class="form-select form-select-sm script-kind-selector"
                    value.bind="kind">
                <option value="Expression">C# Expression (Not supported yet)</option>
                <option value="Statements">C# Statements</option>
                <option value="Program">C# Program (Doesn't auto-change code for you yet)</option>
            </select>
        </span>
        <span class="ms-3">
            <b>Namespaces:</b> ${script.config.namespaces.length}
        </span>
    </div>
    <div class="flex-grow-height-restricted">
        <div class="text-editor-container">
            <div class="text-editor" data-text-editor-id.bind="id"></div>
        </div>
        <div class="results-container" show.bind="resultsViewSettings.show">
            <div class="toolbar">
                <div class="row m-0 p-0">
                    <div class="col ps-2">
                        <b>Results</b>
                    </div>
                    <div class="col text-end pe-0">
                        <i class="bi bi-text-center action"
                           title="Text Wrap"
                           click.trigger="resultsViewSettings.textWrap = !resultsViewSettings.textWrap"></i>
                        <i class="bi bi-x-square-fill action-danger"
                           title="Close Results"
                           click.trigger="resultsViewSettings.show = false"></i>
                    </div>
                </div>
            </div>
            <div class="results pt-2 ${resultsViewSettings.textWrap ? 'text-wrap' : ''}"
                 ref="resultsEl"
                 data-script-results-id.bind="id"></div>
        </div>
    </div>
</template>
